//generic imports
importClass(Packages.ij.IJ);
importClass(Packages.ij.plugin.frame.RoiManager);
importClass(Packages.ij.gui.GenericDialog);
//generic image variable assignment
imp = IJ.getImage();
ip = imp.getProcessor();
//recursive bounding box function
function recursiveSelect(startX, startY) {
    //create dialog box
    if (startX == null || startY == null) {
        title = "Enter point";
        y=imp.height/2; x=imp.width/2;
        gd = new GenericDialog("Example Dialog");
        gd.addNumericField("X:", x);
        gd.addNumericField("Y:", y);
        gd.showDialog();
        x = gd.getNextNumber();
        y = gd.getNextNumber();
    }
    pixelValue = ip.getPixel(x, y)
    if (pixelValue != 255) {
        IJ.log("pixel was not white");
        return;
    }
    IJ.log("correct!")
}
// Initialize points array
var roi = imp.getRoi();
if (roi == null || !(roi instanceof PointRoi)) {
    IJ.error("Please use the multi-point tool to select starting points.");
}
points = roi.getContainedPoints(); // Returns an array of points [{x: ..., y: ...}, ...]
//aprogram loop
if (points.length === 0) {
    IJ.error("No valid multi-point selections found.");
} else {
    for (i = 0; i < points.length; i++) {
        startX = points[i].x, startY = points[i].y;
        recursiveSelect(startX, startY);
    }
}
